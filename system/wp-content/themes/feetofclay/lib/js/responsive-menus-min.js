/**
 * This script adds the accessibility-ready responsive menus Genesis Framework child themes.
 *
 * @author StudioPress
 * @link https://github.com/copyblogger/responsive-menus
 * @version 1.1.2
 * @license GPL-2.0+
 */
var genesisMenuParams="undefined"==typeof genesis_responsive_menu?"":genesis_responsive_menu,genesisMenusUnchecked=genesisMenuParams.menuClasses,genesisMenus={},menusToCombine=[];!function(e,n,s){"use strict";n.each(genesisMenusUnchecked,function(e){genesisMenus[e]=[],n.each(this,function(s,i){var a=i,o=n(i);o.length>1?n.each(o,function(s,i){var o=a+"-"+s;n(this).addClass(o.replace(".","")),genesisMenus[e].push(o),"combine"===e&&menusToCombine.push(o)}):1==o.length&&(genesisMenus[e].push(a),"combine"===e&&menusToCombine.push(a))})}),void 0===genesisMenus.others&&(genesisMenus.others=[]),1==menusToCombine.length&&(genesisMenus.others.push(menusToCombine[0]),genesisMenus.combine=null,menusToCombine=null);var i={},a="menu-toggle",o="sub-menu-toggle",u="genesis-responsive-menu";function t(e){if(n(C(genesisMenus)).find(".sub-menu").before(e.submenu),null!==menusToCombine){var s=genesisMenus.others.concat(menusToCombine[0]);n(C(s)).before(e.menu)}else n(C(genesisMenus.others)).before(e.menu)}function r(){n(C(genesisMenus)).addClass(u)}function l(){var e=n('button[id^="genesis-mobile-"]').attr("id");void 0!==e&&(p(e),f(e),h(e),c(e))}function m(){var e=n(this),s=e.next("nav"),i="class";e.attr("id","genesis-mobile-"+n(s).attr(i).match(/nav-\w*\b/))}function c(e){if(null!=menusToCombine){var s=menusToCombine[0],i=n(menusToCombine).filter(function(e){if(e>0)return e});"none"!==b(e)?(n.each(i,function(e,i){n(i).find(".menu").addClass("moved-item-"+i.replace(".","")).appendTo(s+" ul.genesis-nav-menu")}),n(C(i)).hide()):n.each(i,function(e,s){n(".moved-item-"+s.replace(".","")).appendTo(s).removeClass("moved-item-"+s.replace(".",""))})}}function d(){var e=n(this);v(e,"aria-pressed"),v(e,"aria-expanded"),e.toggleClass("activated"),e.toggleClass("dashicons-menu"),e.toggleClass("dashicons-no-alt"),e.next("nav").slideToggle("fast"),n("body").toggleClass("mobile-menu-open")}function g(){var e=n(this),s=e.closest(".menu-item").siblings();v(e,"aria-pressed"),v(e,"aria-expanded"),e.toggleClass("activated"),e.next(".sub-menu").slideToggle("fast"),s.find("."+o).removeClass("activated").attr("aria-pressed","false"),s.find(".sub-menu").slideUp("fast")}function f(e){var s=n("."+u+" .js-superfish"),i="destroy";"function"==typeof s.superfish&&("none"===b(e)&&(i={delay:100,animation:{opacity:"show",height:"show"},dropShadows:!1,speed:"fast"}),s.superfish(i))}function h(e){var s=M();!n(s).length>0||n.each(s,function(s,i){var a=i.replace(".",""),o="genesis-"+a,u="genesis-mobile-"+a;"none"==b(e)&&(o="genesis-mobile-"+a,u="genesis-"+a);var t=n('.genesis-skip-link a[href="#'+o+'"]');if(null!==menusToCombine&&i!==menusToCombine[0]&&t.toggleClass("skip-link-hidden"),t.length>0){var r=t.attr("href");r=r.replace(o,u),t.attr("href",r)}})}function p(e){if("none"!==b(e))return!0;n("."+a+", ."+u+" .sub-menu-toggle").removeClass("activated").attr("aria-expanded",!1).attr("aria-pressed",!1),n("."+u+", "+u+" .sub-menu").attr("style","")}function b(n){var s=e.getElementById(n),i;return window.getComputedStyle(s).getPropertyValue("display")}function v(e,n){e.attr(n,function(e,n){return"false"===n})}function C(e){var s;return n.map(e,function(e,n){return e}).join(",")}function M(){var e=[];return null!==menusToCombine&&n.each(menusToCombine,function(n,s){e.push(s.valueOf())}),n.each(genesisMenus.others,function(n,s){e.push(s.valueOf())}),e.length>0?e:null}i.init=function(){if(0!=n(M()).length){var e=void 0!==genesisMenuParams.menuIconClass?genesisMenuParams.menuIconClass:"dashicons-before dashicons-menu",s=void 0!==genesisMenuParams.subMenuIconClass?genesisMenuParams.subMenuIconClass:"dashicons-before dashicons-arrow-down-alt2",i={menu:n("<button />",{class:a,"aria-expanded":!1,"aria-pressed":!1,role:"button"}).append(genesisMenuParams.mainMenu),submenu:n("<button />",{class:o,"aria-expanded":!1,"aria-pressed":!1,role:"button"}).append(n("<span />",{class:"screen-reader-text",text:genesisMenuParams.subMenu}))};r(),t(i),n("."+a).addClass(e),n("."+o).addClass(s),n("."+a).on("click.genesisMenu-mainbutton",d).each(m),n("."+o).on("click.genesisMenu-subbutton",g),n(window).on("resize.genesisMenu",l).triggerHandler("resize.genesisMenu")}},n(e).ready(function(){null!==M()&&i.init()})}(document,jQuery);